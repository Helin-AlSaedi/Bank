(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[295],{630:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>c});var a=n(7876),s=n(4232),r=n(9099),o=n(1430),i=n(9446);function c(){let[e,t]=(0,s.useState)(""),[n,c]=(0,s.useState)(""),l=(0,r.useRouter)(),{login:u}=(0,i.J)();async function d(t){t.preventDefault();let a=await (0,o.Lx)(e,n);a&&(u({userId:a.userId,otp:a.otp,username:e}),l.push("/"))}return(0,a.jsx)("div",{className:"min-h-screen bg-gray-100",children:(0,a.jsx)("div",{className:"flex items-center justify-center py-10",children:(0,a.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-lg w-96",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-center text-gray-900",children:"Logga in"}),(0,a.jsxs)("form",{onSubmit:d,className:"mt-4",children:[(0,a.jsx)("label",{className:"block text-gray-700",children:"Anv\xe4ndarnamn"}),(0,a.jsx)("input",{type:"text",className:"w-full px-4 py-2 border rounded-md text-gray-900",value:e,onChange:e=>t(e.target.value),required:!0}),(0,a.jsx)("label",{className:"block text-gray-700 mt-4",children:"L\xf6senord"}),(0,a.jsx)("input",{type:"password",className:"w-full px-4 py-2 border rounded-md text-gray-900",value:n,onChange:e=>c(e.target.value),required:!0}),(0,a.jsx)("button",{type:"submit",className:"mt-6 w-full bg-green-900 text-white py-2 rounded-md hover:bg-green-700",children:"Logga in"})]})]})})})}},1430:(e,t,n)=>{"use strict";n.d(t,{DY:()=>r,Lx:()=>s,r1:()=>o,rW:()=>i});let a="http://localhost:3001";async function s(e,t){let n=await fetch("".concat(a,"/sessions"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:t})});if(!n.ok){alert((await n.json()).error||"Login failed!");return}return await n.json()}async function r(e,t){let n=await fetch("".concat(a,"/users"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:t})});return await n.json()}async function o(e,t){let n=await fetch("".concat(a,"/me/accounts"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:e,token:t})});return(await n.json()).amount}async function i(e,t,n){let s=await fetch("".concat(a,"/me/accounts/transactions"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:e,token:t,amount:n})});return await s.json()}},5794:(e,t,n)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return n(630)}])},9099:(e,t,n)=>{e.exports=n(8253)}},e=>{var t=t=>e(e.s=t);e.O(0,[636,593,792],()=>t(5794)),_N_E=e.O()}]);